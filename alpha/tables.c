/*
 * Copyright (c) 2021 Gscienty <gaoxiaochuan@hotmail.com>
 *
 * Distributed under the MIT software license, see the accompanying
 * file LICENSE or https://www.opensource.org/licenses/mit-license.php .
 *
 */

#include "alpha/tables.h"

const sr_alpha_range_t sr_alpha_digit[] = {
    { 0x0030, 0x0039, 1 },
    { 0x0660, 0x0669, 1 },
    { 0x06f0, 0x06f9, 1 },
    { 0x07c0, 0x07c9, 1 },
    { 0x0966, 0x096f, 1 },
    { 0x09e6, 0x09ef, 1 },
    { 0x0a66, 0x0a6f, 1 },
    { 0x0ae6, 0x0aef, 1 },
    { 0x0b66, 0x0b6f, 1 },
    { 0x0be6, 0x0bef, 1 },
    { 0x0c66, 0x0c6f, 1 },
    { 0x0ce6, 0x0cef, 1 },
    { 0x0d66, 0x0d6f, 1 },
    { 0x0de6, 0x0def, 1 },
    { 0x0e50, 0x0e59, 1 },
    { 0x0ed0, 0x0ed9, 1 },
    { 0x0f20, 0x0f29, 1 },
    { 0x1040, 0x1049, 1 },
    { 0x1090, 0x1099, 1 },
    { 0x17e0, 0x17e9, 1 },
    { 0x1810, 0x1819, 1 },
    { 0x1946, 0x194f, 1 },
    { 0x19d0, 0x19d9, 1 },
    { 0x1a80, 0x1a89, 1 },
    { 0x1a90, 0x1a99, 1 },
    { 0x1b50, 0x1b59, 1 },
    { 0x1bb0, 0x1bb9, 1 },
    { 0x1c40, 0x1c49, 1 },
    { 0x1c50, 0x1c59, 1 },
    { 0xa620, 0xa629, 1 },
    { 0xa8d0, 0xa8d9, 1 },
    { 0xa900, 0xa909, 1 },
    { 0xa9d0, 0xa9d9, 1 },
    { 0xa9f0, 0xa9f9, 1 },
    { 0xaa50, 0xaa59, 1 },
    { 0xabf0, 0xabf9, 1 },
    { 0xff10, 0xff19, 1 },
};

const sr_alpha_range_t sr_alpha_letter[] = {
    { 0x0041, 0x005a, 1 },
    { 0x0061, 0x007a, 1 },
    { 0x00aa, 0x00b5, 11 },
    { 0x00ba, 0x00c0, 6 },
    { 0x00c1, 0x00d6, 1 },
    { 0x00d8, 0x00f6, 1 },
    { 0x00f8, 0x02c1, 1 },
    { 0x02c6, 0x02d1, 1 },
    { 0x02e0, 0x02e4, 1 },
    { 0x02ec, 0x02ee, 2 },
    { 0x0370, 0x0374, 1 },
    { 0x0376, 0x0377, 1 },
    { 0x037a, 0x037d, 1 },
    { 0x037f, 0x0386, 7 },
    { 0x0388, 0x038a, 1 },
    { 0x038c, 0x038e, 2 },
    { 0x038f, 0x03a1, 1 },
    { 0x03a3, 0x03f5, 1 },
    { 0x03f7, 0x0481, 1 },
    { 0x048a, 0x052f, 1 },
    { 0x0531, 0x0556, 1 },
    { 0x0559, 0x0560, 7 },
    { 0x0561, 0x0588, 1 },
    { 0x05d0, 0x05ea, 1 },
    { 0x05ef, 0x05f2, 1 },
    { 0x0620, 0x064a, 1 },
    { 0x066e, 0x066f, 1 },
    { 0x0671, 0x06d3, 1 },
    { 0x06d5, 0x06e5, 16 },
    { 0x06e6, 0x06ee, 8 },
    { 0x06ef, 0x06fa, 11 },
    { 0x06fb, 0x06fc, 1 },
    { 0x06ff, 0x0710, 17 },
    { 0x0712, 0x072f, 1 },
    { 0x074d, 0x07a5, 1 },
    { 0x07b1, 0x07ca, 25 },
    { 0x07cb, 0x07ea, 1 },
    { 0x07f4, 0x07f5, 1 },
    { 0x07fa, 0x0800, 6 },
    { 0x0801, 0x0815, 1 },
    { 0x081a, 0x0824, 10 },
    { 0x0828, 0x0840, 24 },
    { 0x0841, 0x0858, 1 },
    { 0x0860, 0x086a, 1 },
    { 0x08a0, 0x08b4, 1 },
    { 0x08b6, 0x08c7, 1 },
    { 0x0904, 0x0939, 1 },
    { 0x093d, 0x0950, 19 },
    { 0x0958, 0x0961, 1 },
    { 0x0971, 0x0980, 1 },
    { 0x0985, 0x098c, 1 },
    { 0x098f, 0x0990, 1 },
    { 0x0993, 0x09a8, 1 },
    { 0x09aa, 0x09b0, 1 },
    { 0x09b2, 0x09b6, 4 },
    { 0x09b7, 0x09b9, 1 },
    { 0x09bd, 0x09ce, 17 },
    { 0x09dc, 0x09dd, 1 },
    { 0x09df, 0x09e1, 1 },
    { 0x09f0, 0x09f1, 1 },
    { 0x09fc, 0x0a05, 9 },
    { 0x0a06, 0x0a0a, 1 },
    { 0x0a0f, 0x0a10, 1 },
    { 0x0a13, 0x0a28, 1 },
    { 0x0a2a, 0x0a30, 1 },
    { 0x0a32, 0x0a33, 1 },
    { 0x0a35, 0x0a36, 1 },
    { 0x0a38, 0x0a39, 1 },
    { 0x0a59, 0x0a5c, 1 },
    { 0x0a5e, 0x0a72, 20 },
    { 0x0a73, 0x0a74, 1 },
    { 0x0a85, 0x0a8d, 1 },
    { 0x0a8f, 0x0a91, 1 },
    { 0x0a93, 0x0aa8, 1 },
    { 0x0aaa, 0x0ab0, 1 },
    { 0x0ab2, 0x0ab3, 1 },
    { 0x0ab5, 0x0ab9, 1 },
    { 0x0abd, 0x0ad0, 19 },
    { 0x0ae0, 0x0ae1, 1 },
    { 0x0af9, 0x0b05, 12 },
    { 0x0b06, 0x0b0c, 1 },
    { 0x0b0f, 0x0b10, 1 },
    { 0x0b13, 0x0b28, 1 },
    { 0x0b2a, 0x0b30, 1 },
    { 0x0b32, 0x0b33, 1 },
    { 0x0b35, 0x0b39, 1 },
    { 0x0b3d, 0x0b5c, 31 },
    { 0x0b5d, 0x0b5f, 2 },
    { 0x0b60, 0x0b61, 1 },
    { 0x0b71, 0x0b83, 18 },
    { 0x0b85, 0x0b8a, 1 },
    { 0x0b8e, 0x0b90, 1 },
    { 0x0b92, 0x0b95, 1 },
    { 0x0b99, 0x0b9a, 1 },
    { 0x0b9c, 0x0b9e, 2 },
    { 0x0b9f, 0x0ba3, 4 },
    { 0x0ba4, 0x0ba8, 4 },
    { 0x0ba9, 0x0baa, 1 },
    { 0x0bae, 0x0bb9, 1 },
    { 0x0bd0, 0x0c05, 53 },
    { 0x0c06, 0x0c0c, 1 },
    { 0x0c0e, 0x0c10, 1 },
    { 0x0c12, 0x0c28, 1 },
    { 0x0c2a, 0x0c39, 1 },
    { 0x0c3d, 0x0c58, 27 },
    { 0x0c59, 0x0c5a, 1 },
    { 0x0c60, 0x0c61, 1 },
    { 0x0c80, 0x0c85, 5 },
    { 0x0c86, 0x0c8c, 1 },
    { 0x0c8e, 0x0c90, 1 },
    { 0x0c92, 0x0ca8, 1 },
    { 0x0caa, 0x0cb3, 1 },
    { 0x0cb5, 0x0cb9, 1 },
    { 0x0cbd, 0x0cde, 33 },
    { 0x0ce0, 0x0ce1, 1 },
    { 0x0cf1, 0x0cf2, 1 },
    { 0x0d04, 0x0d0c, 1 },
    { 0x0d0e, 0x0d10, 1 },
    { 0x0d12, 0x0d3a, 1 },
    { 0x0d3d, 0x0d4e, 17 },
    { 0x0d54, 0x0d56, 1 },
    { 0x0d5f, 0x0d61, 1 },
    { 0x0d7a, 0x0d7f, 1 },
    { 0x0d85, 0x0d96, 1 },
    { 0x0d9a, 0x0db1, 1 },
    { 0x0db3, 0x0dbb, 1 },
    { 0x0dbd, 0x0dc0, 3 },
    { 0x0dc1, 0x0dc6, 1 },
    { 0x0e01, 0x0e30, 1 },
    { 0x0e32, 0x0e33, 1 },
    { 0x0e40, 0x0e46, 1 },
    { 0x0e81, 0x0e82, 1 },
    { 0x0e84, 0x0e86, 2 },
    { 0x0e87, 0x0e8a, 1 },
    { 0x0e8c, 0x0ea3, 1 },
    { 0x0ea5, 0x0ea7, 2 },
    { 0x0ea8, 0x0eb0, 1 },
    { 0x0eb2, 0x0eb3, 1 },
    { 0x0ebd, 0x0ec0, 3 },
    { 0x0ec1, 0x0ec4, 1 },
    { 0x0ec6, 0x0edc, 22 },
    { 0x0edd, 0x0edf, 1 },
    { 0x0f00, 0x0f40, 64 },
    { 0x0f41, 0x0f47, 1 },
    { 0x0f49, 0x0f6c, 1 },
    { 0x0f88, 0x0f8c, 1 },
    { 0x1000, 0x102a, 1 },
    { 0x103f, 0x1050, 17 },
    { 0x1051, 0x1055, 1 },
    { 0x105a, 0x105d, 1 },
    { 0x1061, 0x1065, 4 },
    { 0x1066, 0x106e, 8 },
    { 0x106f, 0x1070, 1 },
    { 0x1075, 0x1081, 1 },
    { 0x108e, 0x10a0, 18 },
    { 0x10a1, 0x10c5, 1 },
    { 0x10c7, 0x10cd, 6 },
    { 0x10d0, 0x10fa, 1 },
    { 0x10fc, 0x1248, 1 },
    { 0x124a, 0x124d, 1 },
    { 0x1250, 0x1256, 1 },
    { 0x1258, 0x125a, 2 },
    { 0x125b, 0x125d, 1 },
    { 0x1260, 0x1288, 1 },
    { 0x128a, 0x128d, 1 },
    { 0x1290, 0x12b0, 1 },
    { 0x12b2, 0x12b5, 1 },
    { 0x12b8, 0x12be, 1 },
    { 0x12c0, 0x12c2, 2 },
    { 0x12c3, 0x12c5, 1 },
    { 0x12c8, 0x12d6, 1 },
    { 0x12d8, 0x1310, 1 },
    { 0x1312, 0x1315, 1 },
    { 0x1318, 0x135a, 1 },
    { 0x1380, 0x138f, 1 },
    { 0x13a0, 0x13f5, 1 },
    { 0x13f8, 0x13fd, 1 },
    { 0x1401, 0x166c, 1 },
    { 0x166f, 0x167f, 1 },
    { 0x1681, 0x169a, 1 },
    { 0x16a0, 0x16ea, 1 },
    { 0x16f1, 0x16f8, 1 },
    { 0x1700, 0x170c, 1 },
    { 0x170e, 0x1711, 1 },
    { 0x1720, 0x1731, 1 },
    { 0x1740, 0x1751, 1 },
    { 0x1760, 0x176c, 1 },
    { 0x176e, 0x1770, 1 },
    { 0x1780, 0x17b3, 1 },
    { 0x17d7, 0x17dc, 5 },
    { 0x1820, 0x1878, 1 },
    { 0x1880, 0x1884, 1 },
    { 0x1887, 0x18a8, 1 },
    { 0x18aa, 0x18b0, 6 },
    { 0x18b1, 0x18f5, 1 },
    { 0x1900, 0x191e, 1 },
    { 0x1950, 0x196d, 1 },
    { 0x1970, 0x1974, 1 },
    { 0x1980, 0x19ab, 1 },
    { 0x19b0, 0x19c9, 1 },
    { 0x1a00, 0x1a16, 1 },
    { 0x1a20, 0x1a54, 1 },
    { 0x1aa7, 0x1b05, 94 },
    { 0x1b06, 0x1b33, 1 },
    { 0x1b45, 0x1b4b, 1 },
    { 0x1b83, 0x1ba0, 1 },
    { 0x1bae, 0x1baf, 1 },
    { 0x1bba, 0x1be5, 1 },
    { 0x1c00, 0x1c23, 1 },
    { 0x1c4d, 0x1c4f, 1 },
    { 0x1c5a, 0x1c7d, 1 },
    { 0x1c80, 0x1c88, 1 },
    { 0x1c90, 0x1cba, 1 },
    { 0x1cbd, 0x1cbf, 1 },
    { 0x1ce9, 0x1cec, 1 },
    { 0x1cee, 0x1cf3, 1 },
    { 0x1cf5, 0x1cf6, 1 },
    { 0x1cfa, 0x1d00, 6 },
    { 0x1d01, 0x1dbf, 1 },
    { 0x1e00, 0x1f15, 1 },
    { 0x1f18, 0x1f1d, 1 },
    { 0x1f20, 0x1f45, 1 },
    { 0x1f48, 0x1f4d, 1 },
    { 0x1f50, 0x1f57, 1 },
    { 0x1f59, 0x1f5f, 2 },
    { 0x1f60, 0x1f7d, 1 },
    { 0x1f80, 0x1fb4, 1 },
    { 0x1fb6, 0x1fbc, 1 },
    { 0x1fbe, 0x1fc2, 4 },
    { 0x1fc3, 0x1fc4, 1 },
    { 0x1fc6, 0x1fcc, 1 },
    { 0x1fd0, 0x1fd3, 1 },
    { 0x1fd6, 0x1fdb, 1 },
    { 0x1fe0, 0x1fec, 1 },
    { 0x1ff2, 0x1ff4, 1 },
    { 0x1ff6, 0x1ffc, 1 },
    { 0x2071, 0x207f, 14 },
    { 0x2090, 0x209c, 1 },
    { 0x2102, 0x2107, 5 },
    { 0x210a, 0x2113, 1 },
    { 0x2115, 0x2119, 4 },
    { 0x211a, 0x211d, 1 },
    { 0x2124, 0x212a, 2 },
    { 0x212b, 0x212d, 1 },
    { 0x212f, 0x2139, 1 },
    { 0x213c, 0x213f, 1 },
    { 0x2145, 0x2149, 1 },
    { 0x214e, 0x2183, 53 },
    { 0x2184, 0x2c00, 2684 },
    { 0x2c01, 0x2c2e, 1 },
    { 0x2c30, 0x2c5e, 1 },
    { 0x2c60, 0x2ce4, 1 },
    { 0x2ceb, 0x2cee, 1 },
    { 0x2cf2, 0x2cf3, 1 },
    { 0x2d00, 0x2d25, 1 },
    { 0x2d27, 0x2d2d, 6 },
    { 0x2d30, 0x2d67, 1 },
    { 0x2d6f, 0x2d80, 17 },
    { 0x2d81, 0x2d96, 1 },
    { 0x2da0, 0x2da6, 1 },
    { 0x2da8, 0x2dae, 1 },
    { 0x2db0, 0x2db6, 1 },
    { 0x2db8, 0x2dbe, 1 },
    { 0x2dc0, 0x2dc6, 1 },
    { 0x2dc8, 0x2dce, 1 },
    { 0x2dd0, 0x2dd6, 1 },
    { 0x2dd8, 0x2dde, 1 },
    { 0x2e2f, 0x3005, 470 },
    { 0x3006, 0x3031, 43 },
    { 0x3032, 0x3035, 1 },
    { 0x303b, 0x303c, 1 },
    { 0x3041, 0x3096, 1 },
    { 0x309d, 0x309f, 1 },
    { 0x30a1, 0x30fa, 1 },
    { 0x30fc, 0x30ff, 1 },
    { 0x3105, 0x312f, 1 },
    { 0x3131, 0x318e, 1 },
    { 0x31a0, 0x31bf, 1 },
    { 0x31f0, 0x31ff, 1 },
    { 0x3400, 0x4dbf, 1 },
    { 0x4e00, 0x9ffc, 1 },
    { 0xa000, 0xa48c, 1 },
    { 0xa4d0, 0xa4fd, 1 },
    { 0xa500, 0xa60c, 1 },
    { 0xa610, 0xa61f, 1 },
    { 0xa62a, 0xa62b, 1 },
    { 0xa640, 0xa66e, 1 },
    { 0xa67f, 0xa69d, 1 },
    { 0xa6a0, 0xa6e5, 1 },
    { 0xa717, 0xa71f, 1 },
    { 0xa722, 0xa788, 1 },
    { 0xa78b, 0xa7bf, 1 },
    { 0xa7c2, 0xa7ca, 1 },
    { 0xa7f5, 0xa801, 1 },
    { 0xa803, 0xa805, 1 },
    { 0xa807, 0xa80a, 1 },
    { 0xa80c, 0xa822, 1 },
    { 0xa840, 0xa873, 1 },
    { 0xa882, 0xa8b3, 1 },
    { 0xa8f2, 0xa8f7, 1 },
    { 0xa8fb, 0xa8fd, 2 },
    { 0xa8fe, 0xa90a, 12 },
    { 0xa90b, 0xa925, 1 },
    { 0xa930, 0xa946, 1 },
    { 0xa960, 0xa97c, 1 },
    { 0xa984, 0xa9b2, 1 },
    { 0xa9cf, 0xa9e0, 17 },
    { 0xa9e1, 0xa9e4, 1 },
    { 0xa9e6, 0xa9ef, 1 },
    { 0xa9fa, 0xa9fe, 1 },
    { 0xaa00, 0xaa28, 1 },
    { 0xaa40, 0xaa42, 1 },
    { 0xaa44, 0xaa4b, 1 },
    { 0xaa60, 0xaa76, 1 },
    { 0xaa7a, 0xaa7e, 4 },
    { 0xaa7f, 0xaaaf, 1 },
    { 0xaab1, 0xaab5, 4 },
    { 0xaab6, 0xaab9, 3 },
    { 0xaaba, 0xaabd, 1 },
    { 0xaac0, 0xaac2, 2 },
    { 0xaadb, 0xaadd, 1 },
    { 0xaae0, 0xaaea, 1 },
    { 0xaaf2, 0xaaf4, 1 },
    { 0xab01, 0xab06, 1 },
    { 0xab09, 0xab0e, 1 },
    { 0xab11, 0xab16, 1 },
    { 0xab20, 0xab26, 1 },
    { 0xab28, 0xab2e, 1 },
    { 0xab30, 0xab5a, 1 },
    { 0xab5c, 0xab69, 1 },
    { 0xab70, 0xabe2, 1 },
    { 0xac00, 0xd7a3, 1 },
    { 0xd7b0, 0xd7c6, 1 },
    { 0xd7cb, 0xd7fb, 1 },
    { 0xf900, 0xfa6d, 1 },
    { 0xfa70, 0xfad9, 1 },
    { 0xfb00, 0xfb06, 1 },
    { 0xfb13, 0xfb17, 1 },
    { 0xfb1d, 0xfb1f, 2 },
    { 0xfb20, 0xfb28, 1 },
    { 0xfb2a, 0xfb36, 1 },
    { 0xfb38, 0xfb3c, 1 },
    { 0xfb3e, 0xfb40, 2 },
    { 0xfb41, 0xfb43, 2 },
    { 0xfb44, 0xfb46, 2 },
    { 0xfb47, 0xfbb1, 1 },
    { 0xfbd3, 0xfd3d, 1 },
    { 0xfd50, 0xfd8f, 1 },
    { 0xfd92, 0xfdc7, 1 },
    { 0xfdf0, 0xfdfb, 1 },
    { 0xfe70, 0xfe74, 1 },
    { 0xfe76, 0xfefc, 1 },
    { 0xff21, 0xff3a, 1 },
    { 0xff41, 0xff5a, 1 },
    { 0xff66, 0xffbe, 1 },
    { 0xffc2, 0xffc7, 1 },
    { 0xffca, 0xffcf, 1 },
    { 0xffd2, 0xffd7, 1 },
    { 0xffda, 0xffdc, 1 },
    { sr_unicode_eof, sr_unicode_eof, 0 },
};


_Bool sr_alpha_belong_to(const sr_alpha_range_t ranges[], const sr_unicode_t code) {
    // TODO could use binary search
    size_t i;
    for (i = 0; ranges[i].step != 0; i++) {
        if (code < ranges[i].start_range) {
            return 0;
        }
        if (code <= ranges[i].end_range) {
            return (code - ranges[i].start_range) % ranges[i].step == 0;
        }
    }
    return 0;
}
